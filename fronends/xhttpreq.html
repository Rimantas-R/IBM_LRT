<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.0/css/bootstrap.min.css">
<title> Šiandien Lietuvoje</title>
</head>
<body  class="d-flex flex-column h-100">
<div class="container">

<h1>Dabar Lietuvoje: </h1>


<hr>
<div id="demo">Jungiames prie http://localhost:8081/lrtnow. Jei tai trunka per ilgai, patikrinkite serverį.  
<a href= "http://localhost:8081"> SERVERIS </a></div>
<p id="demos"></p>
<hr>
</div>
<footer class="footer fixed-bottom">
  <div class="container">
    <span class="text-muted">© Rimantas Rozga</span>
  </div>
</footer>

<script type="text/javascript">
const xhttp = new XMLHttpRequest();
const url='http://localhost:8081/lrtnow';


xhttp.open("GET", url);
xhttp.send();

xhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
var responseT = this.responseText;

var scObj = JSON.parse(responseT);
showInfo(scObj);
  }
}

function getText() {document.getElementById("demos").innerHTML = xhttp.responseText;}

function showInfo(myObj){
document.getElementById("demo").innerHTML = "";
var x;
for(x in myObj){
document.getElementById("demo").innerHTML += '<div class="text-primary font-weight-bold">' + myObj[x].chanel + '</div>';
document.getElementById("demo").innerHTML += '<div>'+myObj[x].title + "</div>";
document.getElementById("demo").innerHTML +='<div class="text-info">'+ myObj[x].schedule + "</div>";
document.getElementById("demo").innerHTML += "<br><hr>";
  }
}

</script>
</body>
</html>

